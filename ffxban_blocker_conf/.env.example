# =============================================================================
# ffxban Blocker — пример конфигурации ноды
# Скопируйте в .env и заполните ВСЕ обязательные поля (помечены [REQUIRED])
# =============================================================================

# -----------------------------------------------------------------------------
# [REQUIRED] Имя этой ноды (отображается в панели Observer)
# Используйте уникальное имя для каждой ноды (например: node-de-1, node-fi-2)
# -----------------------------------------------------------------------------
NODE_NAME=node-1

# -----------------------------------------------------------------------------
# [REQUIRED] URL подключения к RabbitMQ на сервере Observer
# Формат: amqp://USER:PASSWORD@<OBSERVER_IP>:5672/
# USER и PASSWORD — те же, что в RABBIT_USER / RABBIT_PASSWD в .env Observer.
# ВАЖНО: ограничьте порт 5672 фаерволом на Observer-сервере (разрешите только IP этой ноды).
# -----------------------------------------------------------------------------
RABBITMQ_URL=amqp://ffxban_user:StrongPassword123@<OBSERVER_IP>:5672/

# -----------------------------------------------------------------------------
# nftables: параметры таблицы фаервола для блокировки IP
# Должны совпадать с тем, что настроено в /etc/nftables.conf на хосте
# -----------------------------------------------------------------------------
NFT_BINARY=nft
NFT_FAMILY=inet
NFT_TABLE=firewall
NFT_SET=user_blacklist

# -----------------------------------------------------------------------------
# Служебные параметры
# -----------------------------------------------------------------------------
# Название exchange для отчётов blocker → Observer (должно совпадать с Observer)
BLOCKING_STATUS_EXCHANGE_NAME=blocking_status_exchange

# Интервал heartbeat (сек): как часто нода сообщает о своей доступности
HEARTBEAT_INTERVAL_SECONDS=30

# Задержка переподключения к RabbitMQ при разрыве соединения (сек)
RECONNECT_DELAY_SECONDS=5
